<header>
  <div class="logo-container">
    <img src="assets/img/Logo_full.svg" alt="" />
  </div>
  @if(workspaceOpen) {
  <div class="logo-container-mobile">
    <img src="assets/img/Logo_mobile.svg" alt="" />
  </div>
  } @if(!workspaceOpen) {
  <div class="devspace-logo-container" (click)="openWorkspace()">
    <div class="arrow-icon-back"></div>
    <div class="devspace-logo">
      <img class="devspace-icon" src="assets/img/Workspace-logo.svg" alt="" />
      <img src="assets/img/Devspace.svg" alt="" />
    </div>
  </div>
  }

  <div class="input-container">
    <input
      [(ngModel)]="searchText"
      (input)="startSearch()"
      id="search-input"
      type="text"
    />
    <img src="assets/img/icons/search.svg" alt="" />
  </div>

  <div class="searchResults" *ngIf="searchText.length > 0">
    <div
      *ngIf="
        this.searchService.foundUsers.length === 0 &&
        this.searchService.foundChannelNames.length === 0 &&
        this.searchService.foundMessages.length === 0
      "
    >
      <p>Keine Ergebnisse gefunden.</p>
    </div>

    <div *ngIf="this.searchService.foundUsers.length > 0">
      <h3>Gefundene Benutzer:</h3>
      <ul>
        <li *ngFor="let user of this.searchService.foundUsers">
          <p>{{ user.name }}</p>
          <!-- Weitere Benutzerinformationen anzeigen, wenn nötig -->
        </li>
      </ul>
    </div>

    <div *ngIf="this.searchService.foundChannelNames.length > 0">
      <h3>Gefundene Kanäle:</h3>
      <ul>
        <li *ngFor="let channel of this.searchService.foundChannelNames">
          <p>{{ channel.name }}</p>
          <!-- Weitere Kanalinformationen anzeigen, wenn nötig -->
        </li>
      </ul>
    </div>

    <div *ngIf="this.searchService.foundMessages.length > 0">
      <h3>Gefundene Nachrichten:</h3>
      <ul>
        <ng-container *ngFor="let message of this.searchService.foundMessages">
          <div *ngIf="message.message">
            <p>{{ this.searchService.getMessageText(message.message) }}</p>
          </div>
        </ng-container>
      </ul>
    </div>
  </div>

  <div class="user-menu">
    <h2 (click)="openUserMenuDialog()">
      {{ this.authService.currentUser?.name }}
    </h2>
    <img
      [src]="this.authService.currentUser?.photoURL"
      alt=""
      (click)="openUserMenuDialog()"
    />
    <div class="drop-down-icon" (click)="openUserMenuDialog()"></div>
  </div>
</header>

<div class="main-section">
  @if(workspaceOpen){
  <div class="menu-btn-container" (click)="toggleSideNav()">
    Workspace-Menü schließen
    <div class="menu-btn-cl"></div>
  </div>
  } @if(!workspaceOpen){
  <div class="menu-btn-container" (click)="toggleSideNav()">
    Workspace-Menü öffnen
    <div class="menu-btn-op"></div>
  </div>
  } @if(workspaceOpen) {
  <app-workspace-menu
    (openNewChat)="openNewChat()"
    (openChannel)="openChanel()"
    (openPrivateChat)="openPrivateChat()"
  ></app-workspace-menu>
  } @if(newChatOpen === true) {<app-new-msg-board></app-new-msg-board>}
  @if(channelChatOpen) {
  <app-channel-board></app-channel-board>
  } @if(privateChatOpen) {
  <app-chat-board></app-chat-board>
  } @if(threadOpen && this.channelService.selectedChannelChats.length > 0) {
  <app-thread-board></app-thread-board>
  }
</div>
