<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>dabubble documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avaoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">dabubble documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >ChatService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/services/chat.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#authService" >authService</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#chats$" >chats$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#chatsSubject" >chatsSubject</a>
                            </li>
                            <li>
                                <a href="#currentChat" >currentChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#firestore" >firestore</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#initialized" >initialized</a>
                            </li>
                            <li>
                                <a href="#messages" >messages</a>
                            </li>
                            <li>
                                <a href="#newChatStarted" >newChatStarted</a>
                            </li>
                            <li>
                                <a href="#privateChats" >privateChats</a>
                            </li>
                            <li>
                                <a href="#selChatIndex" >selChatIndex</a>
                            </li>
                            <li>
                                <a href="#selChatRef" >selChatRef</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#unsubChats" >unsubChats</a>
                            </li>
                            <li>
                                <a href="#unsubPrivateChatMessages" >unsubPrivateChatMessages</a>
                            </li>
                            <li>
                                <a href="#unsubPrivateChats" >unsubPrivateChats</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#userSubscription" >userSubscription</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addMessageToPrivateChat" >addMessageToPrivateChat</a>
                            </li>
                            <li>
                                <a href="#getChatMessages" >getChatMessages</a>
                            </li>
                            <li>
                                <a href="#getChats" >getChats</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getOtherMemberData" >getOtherMemberData</a>
                            </li>
                            <li>
                                <a href="#getPrivateChatMessages" >getPrivateChatMessages</a>
                            </li>
                            <li>
                                <a href="#getSelChatIndex" >getSelChatIndex</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isReadByCurrentUser" >isReadByCurrentUser</a>
                            </li>
                            <li>
                                <a href="#ngOnDestory" >ngOnDestory</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#processChat" >processChat</a>
                            </li>
                            <li>
                                <a href="#searchForMemberInChats" >searchForMemberInChats</a>
                            </li>
                            <li>
                                <a href="#setMessageObj" >setMessageObj</a>
                            </li>
                            <li>
                                <a href="#setReactions" >setReactions</a>
                            </li>
                            <li>
                                <a href="#setSelChatIndex" >setSelChatIndex</a>
                            </li>
                            <li>
                                <a href="#sortChatsByLastMessageTimestamp" >sortChatsByLastMessageTimestamp</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#startNewPrivateChat" >startNewPrivateChat</a>
                            </li>
                            <li>
                                <a href="#subPrivateChats" >subPrivateChats</a>
                            </li>
                            <li>
                                <a href="#toJSONmessage" >toJSONmessage</a>
                            </li>
                            <li>
                                <a href="#toJSONreactions" >toJSONreactions</a>
                            </li>
                            <li>
                                <a href="#unsubscribeChats" >unsubscribeChats</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateChat" >updateChat</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateMessage" >updateMessage</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(userService: <a href="../injectables/UserService.html" target="_self">UserService</a>, evtSvc: <a href="../injectables/EventService.html" target="_self">EventService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/services/chat.service.ts:36</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>userService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>evtSvc</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EventService.html" target="_self" >EventService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addMessageToPrivateChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>addMessageToPrivateChat</b></span>
                        <a href="#addMessageToPrivateChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addMessageToPrivateChat(message: literal type, chatRef: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="348"
                                    class="link-to-prism">src/app/services/chat.service.ts:348</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                        <code>literal type</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>chatRef</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getChatMessages"></a>
                    <span class="name">
                        <span ><b>getChatMessages</b></span>
                        <a href="#getChatMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getChatMessages(chat: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="214"
                                    class="link-to-prism">src/app/services/chat.service.ts:214</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>chat</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>() &#x3D;&gt; void</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getChats"></a>
                    <span class="name">
                        <span ><b>getChats</b></span>
                        <a href="#getChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getChats()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="209"
                                    class="link-to-prism">src/app/services/chat.service.ts:209</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>    <code>Observable&lt;{}&gt;</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOtherMemberData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getOtherMemberData</b></span>
                        <a href="#getOtherMemberData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getOtherMemberData(chatRef: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, currentUserUid: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="148"
                                    class="link-to-prism">src/app/services/chat.service.ts:148</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>chatRef</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>currentUserUid</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPrivateChatMessages"></a>
                    <span class="name">
                        <span ><b>getPrivateChatMessages</b></span>
                        <a href="#getPrivateChatMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getPrivateChatMessages(chat: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="273"
                                    class="link-to-prism">src/app/services/chat.service.ts:273</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>chat</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSelChatIndex"></a>
                    <span class="name">
                        <span ><b>getSelChatIndex</b></span>
                        <a href="#getSelChatIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSelChatIndex(memberId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="432"
                                    class="link-to-prism">src/app/services/chat.service.ts:432</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>memberId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isReadByCurrentUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>isReadByCurrentUser</b></span>
                        <a href="#isReadByCurrentUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isReadByCurrentUser(chatRef: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, currentUserUid: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="170"
                                    class="link-to-prism">src/app/services/chat.service.ts:170</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>chatRef</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>currentUserUid</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestory"></a>
                    <span class="name">
                        <span ><b>ngOnDestory</b></span>
                        <a href="#ngOnDestory"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestory()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="56"
                                    class="link-to-prism">src/app/services/chat.service.ts:56</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>processChat</b></span>
                        <a href="#processChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processChat(chatRef: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, currentUserUid: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="110"
                                    class="link-to-prism">src/app/services/chat.service.ts:110</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>chatRef</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>currentUserUid</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchForMemberInChats"></a>
                    <span class="name">
                        <span ><b>searchForMemberInChats</b></span>
                        <a href="#searchForMemberInChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>searchForMemberInChats(memberId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="420"
                                    class="link-to-prism">src/app/services/chat.service.ts:420</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>memberId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setMessageObj"></a>
                    <span class="name">
                        <span ><b>setMessageObj</b></span>
                        <a href="#setMessageObj"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setMessageObj(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="288"
                                    class="link-to-prism">src/app/services/chat.service.ts:288</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Message.html" target="_self" >Message</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setReactions"></a>
                    <span class="name">
                        <span ><b>setReactions</b></span>
                        <a href="#setReactions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setReactions(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="301"
                                    class="link-to-prism">src/app/services/chat.service.ts:301</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{}</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setSelChatIndex"></a>
                    <span class="name">
                        <span ><b>setSelChatIndex</b></span>
                        <a href="#setSelChatIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setSelChatIndex(chatRef: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="455"
                                    class="link-to-prism">src/app/services/chat.service.ts:455</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>chatRef</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sortChatsByLastMessageTimestamp"></a>
                    <span class="name">
                        <span ><b>sortChatsByLastMessageTimestamp</b></span>
                        <a href="#sortChatsByLastMessageTimestamp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sortChatsByLastMessageTimestamp()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="194"
                                    class="link-to-prism">src/app/services/chat.service.ts:194</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startNewPrivateChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>startNewPrivateChat</b></span>
                        <a href="#startNewPrivateChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>startNewPrivateChat(item: literal type, colId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="327"
                                    class="link-to-prism">src/app/services/chat.service.ts:327</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>item</td>
                                            <td>
                                                        <code>literal type</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>colId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subPrivateChats"></a>
                    <span class="name">
                        <span ><b>subPrivateChats</b></span>
                        <a href="#subPrivateChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>subPrivateChats(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="252"
                                    class="link-to-prism">src/app/services/chat.service.ts:252</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toJSONmessage"></a>
                    <span class="name">
                        <span ><b>toJSONmessage</b></span>
                        <a href="#toJSONmessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toJSONmessage(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="388"
                                    class="link-to-prism">src/app/services/chat.service.ts:388</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{ message: any; member: any; reactions: {}; timestamp: any; uploadedFile: any; } | { message: any; member: any; timestamp: any; uploadedFile: any; reactions?: undefined; }</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toJSONreactions"></a>
                    <span class="name">
                        <span ><b>toJSONreactions</b></span>
                        <a href="#toJSONreactions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toJSONreactions(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="408"
                                    class="link-to-prism">src/app/services/chat.service.ts:408</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{}</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsubscribeChats"></a>
                    <span class="name">
                        <span ><b>unsubscribeChats</b></span>
                        <a href="#unsubscribeChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>unsubscribeChats()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="202"
                                    class="link-to-prism">src/app/services/chat.service.ts:202</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateChat"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateChat</b></span>
                        <a href="#updateChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateChat(item: <a href="../classes/PrivateChat.html" target="_self">PrivateChat</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="368"
                                    class="link-to-prism">src/app/services/chat.service.ts:368</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>item</td>
                                            <td>
                                                            <code><a href="../classes/PrivateChat.html" target="_self" >PrivateChat</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateMessage"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateMessage</b></span>
                        <a href="#updateMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateMessage(message: <a href="../interfaces/Message.html" target="_self">Message</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="377"
                                    class="link-to-prism">src/app/services/chat.service.ts:377</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../interfaces/Message.html" target="_self" >Message</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="authService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>authService</b></span>
                        <a href="#authService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(AuthService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/services/chat.service.ts:18</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chats$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>chats$</b></span>
                        <a href="#chats$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Observable&lt;any[]&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.chatsSubject.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/services/chat.service.ts:25</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chatsSubject"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>chatsSubject</b></span>
                        <a href="#chatsSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;any[]&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;any[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/services/chat.service.ts:24</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentChat"></a>
                    <span class="name">
                        <span ><b>currentChat</b></span>
                        <a href="#currentChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/services/chat.service.ts:20</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="firestore"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>firestore</b></span>
                        <a href="#firestore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Firestore</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(Firestore)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/services/chat.service.ts:17</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initialized"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>initialized</b></span>
                        <a href="#initialized"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/services/chat.service.ts:26</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messages"></a>
                    <span class="name">
                        <span ><b>messages</b></span>
                        <a href="#messages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Message.html" target="_self" >Message[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/services/chat.service.ts:28</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newChatStarted"></a>
                    <span class="name">
                        <span ><b>newChatStarted</b></span>
                        <a href="#newChatStarted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/services/chat.service.ts:36</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="privateChats"></a>
                    <span class="name">
                        <span ><b>privateChats</b></span>
                        <a href="#privateChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>PrivateChat[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/services/chat.service.ts:34</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selChatIndex"></a>
                    <span class="name">
                        <span ><b>selChatIndex</b></span>
                        <a href="#selChatIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/services/chat.service.ts:21</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selChatRef"></a>
                    <span class="name">
                        <span ><b>selChatRef</b></span>
                        <a href="#selChatRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/services/chat.service.ts:22</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsubChats"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>unsubChats</b></span>
                        <a href="#unsubChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/services/chat.service.ts:27</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsubPrivateChatMessages"></a>
                    <span class="name">
                        <span ><b>unsubPrivateChatMessages</b></span>
                        <a href="#unsubPrivateChatMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" >Function</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/services/chat.service.ts:32</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsubPrivateChats"></a>
                    <span class="name">
                        <span ><b>unsubPrivateChats</b></span>
                        <a href="#unsubPrivateChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/services/chat.service.ts:31</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userSubscription"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>userSubscription</b></span>
                        <a href="#userSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/services/chat.service.ts:30</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, inject } from &#x27;@angular/core&#x27;;
import { Firestore, onSnapshot, collection, addDoc, doc, updateDoc, deleteDoc, query, where, getDoc, DocumentData, docData, getDocs, orderBy, limit } from &#x27;@angular/fire/firestore&#x27;;
import { AuthService } from &#x27;./auth.service&#x27;;
import { BehaviorSubject, Observable, Subscription, switchMap } from &#x27;rxjs&#x27;;
import { UserService } from &#x27;./user.service&#x27;;
import { Message } from &#x27;../models/message.class&#x27;;
import { PrivateChat } from &#x27;../models/privateChat.class&#x27;;
import { EventService } from &#x27;./event.service&#x27;;


@Injectable({
  providedIn: &#x27;root&#x27;
})

export class ChatService {

  private firestore: Firestore &#x3D; inject(Firestore);
  private authService: AuthService &#x3D; inject(AuthService);

  currentChat: any;
  selChatIndex: number &#x3D; 0;
  selChatRef:string &#x3D; &#x27;&#x27;;
  
  private chatsSubject: BehaviorSubject&lt;any[]&gt; &#x3D; new BehaviorSubject&lt;any[]&gt;([]);
  public chats$: Observable&lt;any[]&gt; &#x3D; this.chatsSubject.asObservable();
  private initialized: boolean &#x3D; false;
  private unsubChats: Subscription | undefined;
  messages: Message[] &#x3D; [];

  private userSubscription: Subscription;
  unsubPrivateChats: any;
  unsubPrivateChatMessages!: Function;

  privateChats: PrivateChat[] &#x3D; []

  newChatStarted &#x3D; false;


  constructor(private userService: UserService, private evtSvc: EventService) {
    // this.subChats();

    this.userSubscription &#x3D; this.authService.currentUser$.subscribe(user &#x3D;&gt; {
      this.authService.generateOwnChatEvent.subscribe(() &#x3D;&gt; {
        if(this.authService.ownChatEventEmitted &#x3D;&#x3D; false){
        this.startNewPrivateChat({ members: [this.authService.uid], timestamp: Date.now() }, &#x27;chats&#x27;);
        this.authService.ownChatEventEmitted &#x3D; true
        }
      });
      if (user) {
        this.unsubPrivateChats &#x3D; this.subPrivateChats(user.uid);
      }
    });
  }


  ngOnDestory() {
    this.authService.ownChatEventEmitted&#x3D;false
    this.unsubscribeChats()

    if (this.userSubscription) {
      this.userSubscription.unsubscribe();
    }

    this.unsubPrivateChats();
    this.unsubPrivateChatMessages();
  }
 

  // private subChats(): Subscription {
  //   return this.authService.currentUser$.subscribe(user &#x3D;&gt; {
  //     if (!this.initialized) {
  //     if (user) {
  //       try {
  //         this.fetchChats(user);
  //         this.authService.logoutEvent.subscribe(() &#x3D;&gt; {
  //           this.unsubscribeChats();
  //         });
  //         this.initialized&#x3D;true
  //       } catch (error) {
  //         console.error(&quot;Error fetching chats:&quot;, error);
  //       }
  //     }}
  //   });
  // }



  // async fetchChats(user: any) {
  //   const userDocRef &#x3D; doc(this.firestore, &#x27;users&#x27;, user.uid);
  //   const userSnapshot &#x3D; await getDoc(userDocRef);

  //   if (userSnapshot.exists()) {
  //     const userData &#x3D; userSnapshot.data();
  //     const chatRefs &#x3D; userData[&#x27;chatRefs&#x27;];
  
  //     if (chatRefs &amp;&amp; chatRefs.length &gt; 0) {
  //       const chatPromises &#x3D; chatRefs.map(async (chatRef: string) &#x3D;&gt; {
  //         await this.processChat(chatRef, user.uid);
  //       });

  //       await Promise.all(chatPromises);

  //       // Sortiere die Chats basierend auf dem Zeitstempel der letzten Nachricht
  //       this.sortChatsByLastMessageTimestamp();
  //     }
  //   }
  // }


  async processChat(chatRef: string, currentUserUid: string) {
    const chatDocRef &#x3D; doc(this.firestore, &#x27;chats&#x27;, chatRef);
    const chatSnapshot &#x3D; await getDoc(chatDocRef);

    if (chatSnapshot.exists()) {
      const chatData &#x3D; chatSnapshot.data();
      const memberIds &#x3D; chatData[&#x27;members&#x27;];

      if (memberIds.length &gt; 1) {
        const otherMemberData &#x3D; await this.getOtherMemberData(chatRef, currentUserUid);
        const readBy &#x3D; await this.isReadByCurrentUser(chatRef, currentUserUid);
        let lastMessageTimestamp &#x3D; chatData[&#x27;timestamp&#x27;] || 0;
        const chat &#x3D; {
          chatRef,
          name: otherMemberData.name,
          photoURL: otherMemberData.photoURL,
          readBy,
          lastMessageTimestamp
        };

        // Füge den neuen Chat der chatsSubject hinzu
        this.chatsSubject.next([...this.chatsSubject.value, chat]);
      } else if (memberIds.length &#x3D;&#x3D;&#x3D; 1) {
        const chat &#x3D; {
          chatRef,
          name: this.authService.currentUser.name,
          photoURL: this.authService.currentUser.photoURL,
          lastMessageTimestamp: 99999999999999,
          ownChat: true
        };

        // Füge den neuen Chat der chatsSubject hinzu
        this.chatsSubject.next([...this.chatsSubject.value, chat]);
      }
    }
  }


  async getOtherMemberData(chatRef: string, currentUserUid: string): Promise&lt;any&gt; {
    const chatDocRef &#x3D; doc(this.firestore, &#x27;chats&#x27;, chatRef);
    const chatSnapshot &#x3D; await getDoc(chatDocRef);

    if (chatSnapshot.exists()) {
      const chatData &#x3D; chatSnapshot.data();
      const memberIds &#x3D; chatData[&#x27;members&#x27;];
      const otherMemberUid &#x3D; memberIds.find((id: string) &#x3D;&gt; id !&#x3D;&#x3D; currentUserUid);

      if (otherMemberUid) {
        const otherMemberDocRef &#x3D; doc(this.firestore, &#x27;users&#x27;, otherMemberUid);
        const otherMemberSnapshot &#x3D; await getDoc(otherMemberDocRef);

        if (otherMemberSnapshot.exists()) {
          return otherMemberSnapshot.data();
        }
      }
    }
    return null; // Rückgabe, falls keine Daten gefunden wurden
  }


  async isReadByCurrentUser(chatRef: string, currentUserUid: string): Promise&lt;boolean&gt; {
    const chatDocRef &#x3D; doc(this.firestore, &#x27;chats&#x27;, chatRef); // Annahme: Die Chats sind unter &#x27;chats&#x27; gespeichert
    const chatSnapshot &#x3D; await getDoc(chatDocRef);
    if (chatSnapshot.exists()) {
      const chatData &#x3D; chatSnapshot.data();
      const readBy &#x3D; chatData?.[&#x27;readBy&#x27;] || [];
      return readBy.includes(currentUserUid);
    } else {
      return false;
    }
  }

  // async getMessageLastTimestamp(chatRef: string): Promise&lt;number&gt; {
  //   const chatMessagesRef &#x3D; collection(this.firestore, &#x60;chats/${chatRef}/messages&#x60;);
  //   const querySnapshot &#x3D; await getDocs(query(chatMessagesRef, orderBy(&#x27;timestamp&#x27;, &#x27;desc&#x27;), limit(1)));
  //   if (!querySnapshot.empty) {
  //     const lastMessageDoc &#x3D; querySnapshot.docs[0];
  //     const lastMessageData &#x3D; lastMessageDoc.data();
  //     return lastMessageData[&#x27;timestamp&#x27;] || 0;
  //   }
  //   return 0; // Rückgabe eines Standardzeitstempels, wenn keine Nachrichten vorhanden sind
  // }


  sortChatsByLastMessageTimestamp() {
    const sortedChats &#x3D; this.chatsSubject.value.slice().sort((a, b) &#x3D;&gt; {
      return b.lastMessageTimestamp - a.lastMessageTimestamp;
    });
    this.chatsSubject.next(sortedChats);
  }


  unsubscribeChats() {
    if (this.unsubChats) {
      this.unsubChats.unsubscribe();
    }
  }


  getChats() {
    return this.chats$;
  }


  getChatMessages(chat: any) {
    this.messages &#x3D; [];
      const chatRef &#x3D; doc(this.firestore, &#x27;chats&#x27;, chat.chatRef); // Erstellung der Referenz auf das Chat-Dokument
    const messagesCollectionRef &#x3D; collection(chatRef, &#x27;messages&#x27;); // Erstellung der Referenz auf die Subsammlung &quot;messages&quot; innerhalb des Chats

   

    const unsubscribe &#x3D; onSnapshot(messagesCollectionRef, querySnapshot &#x3D;&gt; {

      // Überprüfung, ob Nachrichten vorhanden sind
      if (querySnapshot.empty) {
        console.log(&quot;Keine Nachrichten vorhanden.&quot;);
        return; // Die Ausführung hier beenden, da keine Nachrichten vorhanden sind
      }

      // Nachrichten verarbeiten, wenn sie vorhanden sind
      querySnapshot.forEach(doc &#x3D;&gt; {
        this.messages.push(this.setMessageObj(doc.data(), doc.id));
      });

      console.log(&quot;Empfangene Nachrichten:&quot;, this.messages); // Ausgabe der empfangenen Nachrichten
    }, error &#x3D;&gt; {
      console.error(&quot;Fehler beim Abonnieren von Nachrichten:&quot;, error); // Fehlerbehandlung beim Abonnieren von Nachrichten
    });

    // Überprüfung, ob das Observable beendet wird
    console.log(&quot;Beende Abonnement auf Nachrichten.&quot;);

    return () &#x3D;&gt; {
      unsubscribe();
      console.log(&quot;Abonnement auf Nachrichten beendet.&quot;); // Bestätigung, dass das Abonnement beendet wurde
    };
  }





  subPrivateChats(userId: string) {
    const q &#x3D; query(collection(this.firestore, &#x27;chats&#x27;), where(&#x27;members&#x27;, &#x27;array-contains&#x27;, userId));

    return onSnapshot(q, (list) &#x3D;&gt; {

      this.privateChats &#x3D; [];
  
      list.forEach(element &#x3D;&gt; {

        this.privateChats.push({chatId: element.id, members: element.data()[&#x27;members&#x27;], timestamp: element.data()[&#x27;timestamp&#x27;]});

      });
      this.privateChats.sort((a, b) &#x3D;&gt; b.timestamp - a.timestamp);
      if(this.selChatRef) {
        this.setSelChatIndex(this.selChatRef);
      }
    
    });
  }


  getPrivateChatMessages(chat: any) {
    this.unsubPrivateChatMessages &#x3D; onSnapshot(collection(this.firestore, &#x60;chats/${chat.chatId}/messages&#x60;), (listMessages) &#x3D;&gt; {
      this.messages &#x3D; [];
      
      listMessages.forEach(message &#x3D;&gt; {

        this.messages.push(this.setMessageObj(message.data(), message.id));
      })
      this.messages.sort((a, b) &#x3D;&gt; a.timestamp - b.timestamp);
    })
  }



// Eigentlich auch so im channelService, aber für besser Übersicht auch noch mal hier
  setMessageObj(obj:any, id:string): Message { 
    return {
      messageId: id,
      message: obj.message || &#x27;&#x27;,
      member: obj.member,
      reactions: this.setReactions(obj) || [],
      timestamp: obj.timestamp,
      uploadedFile: obj.uploadedFile || []
    };
  }


// Eigentlich auch so im channelService, aber für besser Übersicht auch noch mal hier
  setReactions(obj:any) {
    if(obj.reactions) {
    let reactionsArray &#x3D; [];
    for (let i &#x3D; 0; i &lt; obj.reactions.length; i++) {
      const reactionString &#x3D; obj.reactions[i];
      
      let reactionArray &#x3D; reactionString.split(&#x27;&amp;&#x27;);

      if (reactionArray.length &#x3D;&#x3D;&#x3D; 2) {
        let reactionMember &#x3D; reactionArray[0];
        let reactionEmoji &#x3D; reactionArray[1];

        reactionsArray.push({reactUser: reactionMember, reactEmoji: reactionEmoji})
      } else {
        console.log(&quot;Der Eingabestring hat nicht das erwartete Format.&quot;);
      }
    }
    return reactionsArray;
    } else {
      return [];
    }
  }



  // start new chat
  async startNewPrivateChat(item: {}, colId:string) { 
    await addDoc(collection(this.firestore, colId), item).catch(
        (err) &#x3D;&gt; { console.error(err) }
      ).then(
        (docRef) &#x3D;&gt; { 
          if (docRef) {
            this.messages &#x3D; [];
            this.newChatStarted &#x3D; true;
            this.selChatIndex &#x3D; 0;
            this.selChatRef &#x3D; docRef.id;
            this.currentChat &#x3D; this.privateChats[0];
            this.evtSvc.PrivateChatModus();
            // hier update Funktion um die ChatRef in den beiden Usern zu speichern!
          } else {
            console.error(&quot;Failed to get document reference.&quot;);
          }
        } 
      ) 
  }


  async addMessageToPrivateChat(message: {}, chatRef:string) {
    // let chatRef &#x3D; this.privateChats[this.selChatIndex].chatId;

    await addDoc(collection(this.firestore, &#x60;chats/${chatRef}/messages&#x60;), message).catch(
        (err) &#x3D;&gt; { console.error(err) }
      ).then(
      (docRef) &#x3D;&gt; { 
        if(this.newChatStarted) {
          this.getPrivateChatMessages(this.currentChat);
          this.newChatStarted &#x3D; false;
        }
        // console.log(&quot;Document written with ID: &quot;, docRef)
      }
      ) 
      this.privateChats[this.selChatIndex].timestamp &#x3D; Date.now();
      await this.updateChat(this.privateChats[this.selChatIndex]);
  }

  

  async updateChat(item: PrivateChat) {
    if(item.chatId) {
      this.selChatRef &#x3D; item.chatId;
      let docRef &#x3D; doc(collection(this.firestore, &#x27;chats&#x27;), item.chatId);
      await updateDoc(docRef, {members: item.members, timestamp: item.timestamp}).catch((err) &#x3D;&gt; { console.log(err); });
    }
  }


  async updateMessage(message: Message) {
    let chatRef &#x3D; this.privateChats[this.selChatIndex].chatId;

    if(message.messageId) {
      let docRef &#x3D; doc(collection(this.firestore, &#x60;chats/${chatRef}/messages&#x60;), message.messageId);
      await updateDoc(docRef, this.toJSONmessage(message)).catch((err) &#x3D;&gt; { console.log(err); });
    }
  }


// Eigentlich auch so im channelService, aber für besser Übersicht auch noch mal hier
  toJSONmessage(obj:any) {
    if(obj.reactions.length &gt; 0) {
      return {
        message: obj.message || &#x27;&#x27;,
        member: obj.member,
        reactions: this.toJSONreactions(obj) || [],
        timestamp: obj.timestamp,
        uploadedFile: obj.uploadedFile || []
    }} else {
      return {
        message: obj.message || &#x27;&#x27;,
        member: obj.member,
        timestamp: obj.timestamp,
        uploadedFile: obj.uploadedFile || []
      }
    }
  }


// Eigentlich auch so im channelService, aber für besser Übersicht auch noch mal hier
  toJSONreactions(obj:any) {
    let reactionsArray &#x3D; [];
    for (let i &#x3D; 0; i &lt; obj.reactions.length; i++) {
      const reaction &#x3D; obj.reactions[i];

      reactionsArray.push(reaction.reactUser + &quot;&amp;&quot; + reaction.reactEmoji)
    }
    return reactionsArray;
  }



  searchForMemberInChats(memberId: string) {
    for (let i &#x3D; 0; i &lt; this.privateChats.length; i++) {
      const chat &#x3D; this.privateChats[i];

      if (chat.members.includes(memberId)) {
            return true;
        }
    }
    return false;
  }


  getSelChatIndex(memberId: string) {
    if(memberId !&#x3D;&#x3D; this.authService.uid) {
    for (let i &#x3D; 0; i &lt; this.privateChats.length; i++) {
      const chat &#x3D; this.privateChats[i];

      if (chat.members.includes(memberId)) {
            return i;
        }
    }
    return 0;
    } else {
      for (let i &#x3D; 0; i &lt; this.privateChats.length; i++) {
        const chat &#x3D; this.privateChats[i];
        
        if(chat.members.length &#x3D;&#x3D;&#x3D; 1) {
          return i;
        }
      }
      return 0;
    }
  }


  setSelChatIndex(chatRef: string) {
    const index &#x3D; this.privateChats.findIndex(chat &#x3D;&gt; chat.chatId &#x3D;&#x3D;&#x3D; chatRef);

    if (index !&#x3D;&#x3D; -1) {
      this.selChatIndex &#x3D; index;
    }
  }

}</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ChatService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
